import re

rfile = open('domain.txt', 'r')
wfile = open('domain2.txt', 'w')

for line in rfile:
    if re.search(r'(\w+\.)(\w+\.)(\D+$)', line):
        match = re.search(r'(\w+\.)(\w+\.)(\D+$)', line)
        if 'uk' not in match.group(3):
            print("before: "+line)
            wfile.write(match.group(2)+match.group(3))
        else:
            wfile.write(line)
rfile.close()
wfile.close()